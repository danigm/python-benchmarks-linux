FROM rockylinux:8

ENV IMAGE rocky8
ENV PYTHON_VERSION python3.11
ENV PYTHON python3.11

ENV PACKAGES="$PYTHON_VERSION $PYTHON_VERSION-pip $PYTHON_VERSION-devel"
RUN zypper --non-interactive install --recommends -t pattern devel_basis
RUN dnf -y install $PACKAGES

RUN $PYTHON -m venv /venv
ENV PATH="/venv/bin:$PATH"

RUN $PYTHON -m pip install pyperformance

COPY benchmark.sh /benchmark.sh

CMD ["/benchmark.sh"]
